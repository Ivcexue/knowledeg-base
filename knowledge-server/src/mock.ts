import initQdrant from "./utils/db.js";
import { queryVector } from "./services/index.js"
import dotenv from 'dotenv'
dotenv.config();

// 生成测试数据
async function generateMockData() {
  const qdrant = await initQdrant();
  const mockData = [
    // {
    //   id: 1,
    //   vector: await queryVector(
    //     "秦牧第一个在幽都出生的胎生生灵秦凤青被封印后身体产生的第二意识，后来与秦凤青分成两个不同的人物。幼年被司婆婆收养。本身是凡体，但被村长苏幕遮骗为霸体，开始了一段波澜壮阔的人生 [85]。秦牧走出大墟之后，成为天魔教教主 [126]。助江白圭平叛，开启了延康变法，后成为人皇，机缘巧合下遇到了生父，揭开了自己开皇帝族遗孤的身份 [250]，得成神法门，开启了新的道法神通改革的大世 [262]。其兄秦凤青破封，大闹佛界、悬空界；和初祖人皇等人一起带领诸神逃出毁灭的太皇天，入天阴界复活天阴娘娘 [382]；回百万年前，大闹天庭；于幽都见其母，与秦凤青合体在玉锁关大战幽都诸神；元界解封，见地母元君。昊天尊下界为斩杀地母元君，延康遭到连累，秦牧因此不得不帮助古神天帝、地母元君复活，一人对抗天庭的四位大帝时，舍弃自己的第三只眼，变作没有魂魄的人，后开天辟地赋神魂，获得新生。去往天庭引发瑶池事件，被派遣到太虚之中，意外成为造物主一族的圣婴，并因此促成造物主一族和无忧乡的和解。"
    //   ),
    //   payload: {
    //     text: "秦牧第一个在幽都出生的胎生生灵秦凤青被封印后身体产生的第二意识，后来与秦凤青分成两个不同的人物。幼年被司婆婆收养。本身是凡体，但被村长苏幕遮骗为霸体，开始了一段波澜壮阔的人生 [85]。秦牧走出大墟之后，成为天魔教教主 [126]。助江白圭平叛，开启了延康变法，后成为人皇，机缘巧合下遇到了生父，揭开了自己开皇帝族遗孤的身份 [250]，得成神法门，开启了新的道法神通改革的大世 [262]。其兄秦凤青破封，大闹佛界、悬空界；和初祖人皇等人一起带领诸神逃出毁灭的太皇天，入天阴界复活天阴娘娘 [382]；回百万年前，大闹天庭；于幽都见其母，与秦凤青合体在玉锁关大战幽都诸神；元界解封，见地母元君。昊天尊下界为斩杀地母元君，延康遭到连累，秦牧因此不得不帮助古神天帝、地母元君复活，一人对抗天庭的四位大帝时，舍弃自己的第三只眼，变作没有魂魄的人，后开天辟地赋神魂，获得新生。去往天庭引发瑶池事件，被派遣到太虚之中，意外成为造物主一族的圣婴，并因此促成造物主一族和无忧乡的和解。",
    //     source: "test.txt"
    //   },
    // },
    // {
    //   id: 2,
    //   vector: await queryVector(
    //     "秦凤青第一个在幽都出生的胎生生灵，被尊为幽都神子。出生便有凌霄战力，拥有古神、半神、后天生灵的优点，不受幽都大道规则控制，相当于一个不受限制的土伯，因作恶多端被土伯封印，身体孕育出了第二个意识：弟弟秦牧。原本同秦牧共用一个身体一个元神，后来因为秦牧要保护秦凤青，将自身与秦凤青分离开来。秦凤青是一个大头娃娃，原本被封印在秦字大陆，实力恐怖，凶悍但只是孩童心性，对他来说，除了娘亲珍王妃之外，世间万物，所有生灵，只有能吃的和不能吃的分别。他能掌控魔性，但对神通道法不感兴趣。由于他算是土伯的弟弟，故此别人也可以对着他立下小土伯之约，违约便会被他吃掉。幽都之战继承土伯的生死簿和部分力量。天庭和延康大战，土伯和虚天尊在幽都中陨落，继承幽都大道，成为新的土伯。最终成道，成为延康的领袖之一。"
    //   ),
    //   payload: {
    //     text: "秦凤青第一个在幽都出生的胎生生灵，被尊为幽都神子。出生便有凌霄战力，拥有古神、半神、后天生灵的优点，不受幽都大道规则控制，相当于一个不受限制的土伯，因作恶多端被土伯封印，身体孕育出了第二个意识：弟弟秦牧。原本同秦牧共用一个身体一个元神，后来因为秦牧要保护秦凤青，将自身与秦凤青分离开来。秦凤青是一个大头娃娃，原本被封印在秦字大陆，实力恐怖，凶悍但只是孩童心性，对他来说，除了娘亲珍王妃之外，世间万物，所有生灵，只有能吃的和不能吃的分别。他能掌控魔性，但对神通道法不感兴趣。由于他算是土伯的弟弟，故此别人也可以对着他立下小土伯之约，违约便会被他吃掉。幽都之战继承土伯的生死簿和部分力量。天庭和延康大战，土伯和虚天尊在幽都中陨落，继承幽都大道，成为新的土伯。最终成道，成为延康的领袖之一。",
    //     source: "test.txt"
    //   }
    // },
    // {
    //   id: 3,
    //   vector: await queryVector("灵毓秀是秦牧妻子。身份最初是延康七公主。最初她女扮男装跟随秦飞月将军来到大墟，因身材丰满被秦牧戏称其为肥七公子。与秦牧一同开创了元神引，由于一起修炼了元神引，故是彼此最为亲近的人，多次暗示秦牧奈何秦牧却是感情白痴，曾被瞎子强行拉着秦牧结婚。延康劫后因延丰帝入狱，灵毓秀登基被称为延秀帝，幽都之战后退位与秦牧成婚。与秦牧育有一女，名为秦灵筠。"),
    //   payload: {
    //     text: "灵毓秀是秦牧妻子。身份最初是延康七公主。最初她女扮男装跟随秦飞月将军来到大墟，因身材丰满被秦牧戏称其为肥七公子。与秦牧一同开创了元神引，由于一起修炼了元神引，故是彼此最为亲近的人，多次暗示秦牧奈何秦牧却是感情白痴，曾被瞎子强行拉着秦牧结婚。延康劫后因延丰帝入狱，灵毓秀登基被称为延秀帝，幽都之战后退位与秦牧成婚。与秦牧育有一女，名为秦灵筠。",
    //     source: "test.txt"
    //   }
    // },
    // {
    //   id: 4,
    //   vector: await queryVector("苏幕遮，残老村村长。坐着担架，无手无脚，为了继续维系残老村众人的关系，欺骗众人秦牧为霸体 [85]。真实身份是人皇，剑法通神，剑法为剑图。残老村第一高手。苏幕遮是秦牧上个时代最强的人，一口剑照耀了一个时代，与上苍诸神争斗，打遍上苍无敌手，最后被上苍背后的真神击败，砍去了手脚。出村后，一剑开皇血汪洋，指引国师剑法入道 [258]。迎战上苍之时，斩杀一尊神之后，与乔星君同归于尽 [647]，神魂被引入酆都 [292]，因吹嘘霸体以及历代人皇被秦牧殴打，经常被前代人皇围攻群殴。复活后修炼了无漏斗战神功后手脚亦重新生长出来。曾由于秦牧穿越时空，在过去留下了霸体传说，导致连苏幕遮也被自己骗了过去 [645]，但后来鬼船一事使得苏幕遮意识到了真相。苏幕遮见开皇之后便受困于心中神，剑斩开皇发丝一缕后，勘破心中神。最终成道。"),
    //   payload: {
    //     text: "苏幕遮，残老村村长。坐着担架，无手无脚，为了继续维系残老村众人的关系，欺骗众人秦牧为霸体 [85]。真实身份是人皇，剑法通神，剑法为剑图。残老村第一高手。苏幕遮是秦牧上个时代最强的人，一口剑照耀了一个时代，与上苍诸神争斗，打遍上苍无敌手，最后被上苍背后的真神击败，砍去了手脚。出村后，一剑开皇血汪洋，指引国师剑法入道 [258]。迎战上苍之时，斩杀一尊神之后，与乔星君同归于尽 [647]，神魂被引入酆都 [292]，因吹嘘霸体以及历代人皇被秦牧殴打，经常被前代人皇围攻群殴。复活后修炼了无漏斗战神功后手脚亦重新生长出来。曾由于秦牧穿越时空，在过去留下了霸体传说，导致连苏幕遮也被自己骗了过去 [645]，但后来鬼船一事使得苏幕遮意识到了真相。苏幕遮见开皇之后便受困于心中神，剑斩开皇发丝一缕后，勘破心中神。最终成道。",
    //     source: "test.txt"
    //   }
    // },
    // {
    //   id: 5,
    //   vector: await queryVector("司婆婆曾为天圣教圣女。天圣教教主厉天行被司幼幽迷住，想与司幼幽结婚。司幼幽在结婚当日杀掉了厉天行，但厉天行的意识也进入了她的身体。司幼幽化身为司婆婆，带走了有《大育天魔经》，来到了残老村。此后天圣教一直在寻找司幼幽。司婆婆不愿回教当教主，便和天圣教的少年祖师商量，让秦牧做少教主 [125]。之后，厉天行传位给秦牧以后，最后的羁绊褪去，一心一意只想占领司婆婆的身体，但被瞎子和马爷镇压了，最终二人达成协议，司婆婆白天出现，厉天行晚上出现 [646]。厉天行领悟“大育”之道后，为了救司幼幽，离开她的身体，附身到星犴上展开天魔解体而亡 [284]。司幼幽同文元祖师、幽溟太子研究出四天门境界，并因此在后世被称为天尊，并最终成道。"),
    //   payload: {
    //     text: "司婆婆曾为天圣教圣女。天圣教教主厉天行被司幼幽迷住，想与司幼幽结婚。司幼幽在结婚当日杀掉了厉天行，但厉天行的意识也进入了她的身体。司幼幽化身为司婆婆，带走了有《大育天魔经》，来到了残老村。此后天圣教一直在寻找司幼幽。司婆婆不愿回教当教主，便和天圣教的少年祖师商量，让秦牧做少教主 [125]。之后，厉天行传位给秦牧以后，最后的羁绊褪去，一心一意只想占领司婆婆的身体，但被瞎子和马爷镇压了，最终二人达成协议，司婆婆白天出现，厉天行晚上出现 [646]。厉天行领悟“大育”之道后，为了救司幼幽，离开她的身体，附身到星犴上展开天魔解体而亡 [284]。司幼幽同文元祖师、幽溟太子研究出四天门境界，并因此在后世被称为天尊，并最终成道。",
    //     source: "test.txt"
    //   }
    // },
    // {
    //   id: 6,
    //   vector: await queryVector("马爷在都护府做过几十年的捕快，后来到大理寺任职。破了一场大案之后，名动天下，于是大雷音寺寻到了他 [202]。后来，他因故被大雷音寺追杀，但靠神通打出去。等他有了妻儿，大雷音寺又找上门来，为了妻儿的安危甘愿自断一臂，还了大雷音寺的神通。但大雷音寺依旧追杀马爷，让他妻离子散，家破人亡 [111]。马爷是青龙灵体。他的拳突破声音的局限，突破空气的束缚，爆发出无以伦比的力量。一只手也可以练拳，一只手也是一千只手，一手也可以发出雷音雷霆。修习雷音八式中的千手佛陀。后被秦牧续上断臂。老如来退位，他前去坐镇大雷音寺，一步一阶梯，到了山顶勘破心魔，修成二十诸天，悟破大梵天境，自然而然的成了如来。在魔猿战空成长了起来后，他脱去袈裟，变回了马神捕。"),
    //   payload: {
    //     text: "马爷在都护府做过几十年的捕快，后来到大理寺任职。破了一场大案之后，名动天下，于是大雷音寺寻到了他 [202]。后来，他因故被大雷音寺追杀，但靠神通打出去。等他有了妻儿，大雷音寺又找上门来，为了妻儿的安危甘愿自断一臂，还了大雷音寺的神通。但大雷音寺依旧追杀马爷，让他妻离子散，家破人亡 [111]。马爷是青龙灵体。他的拳突破声音的局限，突破空气的束缚，爆发出无以伦比的力量。一只手也可以练拳，一只手也是一千只手，一手也可以发出雷音雷霆。修习雷音八式中的千手佛陀。后被秦牧续上断臂。老如来退位，他前去坐镇大雷音寺，一步一阶梯，到了山顶勘破心魔，修成二十诸天，悟破大梵天境，自然而然的成了如来。在魔猿战空成长了起来后，他脱去袈裟，变回了马神捕。",
    //     source: "test.txt"
    //   }
    // },
    {
      id: 101,
      vector: await queryVector(
        "招投标是指在工程建设、货物采购、服务等领域，招标人通过发布招标公告，邀请具备资质的投标人参与投标，并通过评标确定中标人的一种市场交易方式。"
      ),
      payload: {
        text: "招投标是指在工程建设、货物采购、服务等领域，招标人通过发布招标公告，邀请具备资质的投标人参与投标，并通过评标确定中标人的一种市场交易方式。",
        source: "bidding_knowledge.txt"
      }
    },
    {
      id: 102,
      vector: await queryVector(
        "招标分为公开招标和邀请招标。公开招标是指招标人以招标公告的方式邀请不特定的法人或者其他组织投标；邀请招标是指招标人以投标邀请书的方式邀请特定的法人或者其他组织投标。"
      ),
      payload: {
        text: "招标分为公开招标和邀请招标。公开招标是指招标人以招标公告的方式邀请不特定的法人或者其他组织投标；邀请招标是指招标人以投标邀请书的方式邀请特定的法人或者其他组织投标。",
        source: "bidding_knowledge.txt"
      }
    },
    {
      id: 103,
      vector: await queryVector(
        "投标文件是投标人根据招标文件的要求编制的响应文件，内容包括投标函、资格证明文件、技术方案、商务报价等。"
      ),
      payload: {
        text: "投标文件是投标人根据招标文件的要求编制的响应文件，内容包括投标函、资格证明文件、技术方案、商务报价等。",
        source: "bidding_knowledge.txt"
      }
    },
    {
      id: 104,
      vector: await queryVector(
        "评标委员会由招标人依法组建，负责对投标文件进行评审和比较，按照招标文件规定的评标标准和方法推荐中标候选人。"
      ),
      payload: {
        text: "评标委员会由招标人依法组建，负责对投标文件进行评审和比较，按照招标文件规定的评标标准和方法推荐中标候选人。",
        source: "bidding_knowledge.txt"
      }
    },
    {
      id: 105,
      vector: await queryVector(
        "中标通知书是招标人向中标人发出的确认其中标的书面文件，中标人应当在规定时间内与招标人签订合同。"
      ),
      payload: {
        text: "中标通知书是招标人向中标人发出的确认其中标的书面文件，中标人应当在规定时间内与招标人签订合同。",
        source: "bidding_knowledge.txt"
      }
    }
  ];

  // 将Mock数据插入Qdrant
  await qdrant.upsert("knowledge-base", {
    points: mockData,
  });

  console.log("测试数据插入成功！");
}

generateMockData();
