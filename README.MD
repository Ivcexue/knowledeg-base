# æ™ºèƒ½çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº AI æŠ€æœ¯çš„æ™ºèƒ½çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿï¼Œæ”¯æŒæ–‡æ¡£ä¸Šä¼ ã€å‘é‡åŒ–å­˜å‚¨ã€æ™ºèƒ½æ£€ç´¢å’Œå¯¹è¯å¼é—®ç­”ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ” **æ™ºèƒ½æœç´¢**ï¼šæ”¯æŒå‘é‡æœç´¢å’Œå…³é”®è¯æ··åˆæœç´¢
- ğŸ¤– **AI å¯¹è¯**ï¼šåŸºäºé˜¿é‡Œäº‘ç™¾ç‚¼å¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½é—®ç­”
- ğŸ“‚ **çŸ¥è¯†ç®¡ç†**ï¼šæ–‡æ¡£ä¸Šä¼ ã€å‘é‡åŒ–å­˜å‚¨å’Œç®¡ç†
- âš¡ **å®æ—¶å“åº”**ï¼šæµå¼æ•°æ®ä¼ è¾“ï¼Œå®æ—¶æ˜¾ç¤º AI å›å¤
- ğŸ’» **ç°ä»£ UI**ï¼šåŸºäº Ant Design çš„ç¾è§‚ç•Œé¢
- âœ… **ç±»å‹å®‰å…¨**ï¼šå…¨æ ˆ TypeScript å¼€å‘

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

- **Node.js** + **Express.js**ï¼šæœåŠ¡ç«¯æ¡†æ¶
- **TypeScript**ï¼šç±»å‹å®‰å…¨å¼€å‘è¯­è¨€
- **Qdrant**ï¼šå‘é‡æ•°æ®åº“
- **é˜¿é‡Œäº‘ç™¾ç‚¼**ï¼šAI å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
- **CORS**ï¼šè·¨åŸŸæ”¯æŒ
- **Server-Sent Events**ï¼šæµå¼æ•°æ®ä¼ è¾“æŠ€æœ¯

### å‰ç«¯æŠ€æœ¯æ ˆ

- **React 18**ï¼šæ„å»ºç”¨æˆ·ç•Œé¢
- **TypeScript**ï¼šç±»å‹å®‰å…¨æ”¯æŒ
- **Vite**ï¼šæé€Ÿæ„å»ºå·¥å…·
- **Ant Design**ï¼šUI ç»„ä»¶åº“
- **Tailwind CSS**ï¼šæ ·å¼æ¡†æ¶
- **React Router**ï¼šè·¯ç”±ç®¡ç†


## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- Docker (ç”¨äºè¿è¡Œ Qdrant æ•°æ®åº“)
- é˜¿é‡Œäº‘ç™¾ç‚¼è´¦å·å’Œ API Key

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd knowledge-base
```

### 2. å¯åŠ¨ Qdrant æ•°æ®åº“

```bash
# æ‹‰å– Qdrant é•œåƒ
docker pull qdrant/qdrant

# å¯åŠ¨ Qdrant å®¹å™¨
docker run -d -p 6333:6333 -p 8080:8080 qdrant/qdrant
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `knowledge-server` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æœåŠ¡å™¨é…ç½®
PORT=3000

# é˜¿é‡Œäº‘ç™¾ç‚¼é…ç½®
DASHSCOPE_API_KEY=your_api_key_here
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
DASHSCOPE_API_URL=https://dashscope.aliyuncs.com
DASHSCOPE_API_RERANK_PATH=/api/v1/services/rerank/text-rerank/text-rerank

# Qdrant å‘é‡æ•°æ®åº“
QDRANT_API_URL=http://localhost:6333
```

### 4. å¯åŠ¨åç«¯æœåŠ¡

**æµ‹è¯•æ•°æ®åˆå§‹åŒ–**
```
knowledge-base/knowledge-server/src/mock.ts
```

```bash
cd knowledge-server

# å®‰è£…ä¾èµ–
npm install

# ç¼–è¯‘é¡¹ç›®
npm run build

# æ’å…¥æµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼‰
npm run mock

# å¯åŠ¨æœåŠ¡
npm run start
```

### 5. å¯åŠ¨å‰ç«¯åº”ç”¨

```bash
cd knowledeg-web

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 6. è®¿é—®åº”ç”¨

- å‰ç«¯åº”ç”¨: http://localhost:5173
- Qdrant ç®¡ç†ç•Œé¢: http://localhost:8080
- åç«¯ API: http://localhost:3000


## ğŸ” æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½æœç´¢
- **å‘é‡æœç´¢**: ä½¿ç”¨æ–‡æœ¬åµŒå…¥æ¨¡å‹å°†æŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡ï¼Œåœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢ç›¸ä¼¼æ–‡æ¡£
- **æ··åˆæœç´¢**: ç»“åˆå‘é‡æœç´¢å’Œå…³é”®è¯æœç´¢ï¼Œæä¾›æ›´å‡†ç¡®çš„æœç´¢ç»“æœ
- **æ–‡æ¡£é‡æ’åº**: ä½¿ç”¨ rerank æ¨¡å‹å¯¹æœç´¢ç»“æœè¿›è¡Œé‡æ–°æ’åºï¼Œæé«˜ç›¸å…³æ€§

### 2. AI å¯¹è¯
- **ä¸Šä¸‹æ–‡ç†è§£**: åŸºäºçŸ¥è¯†åº“å†…å®¹è¿›è¡Œæ™ºèƒ½é—®ç­”
- **æµå¼å“åº”**: å®æ—¶æ˜¾ç¤º AI å›å¤å†…å®¹
- **å¤šè½®å¯¹è¯**: æ”¯æŒè¿ç»­å¯¹è¯äº¤äº’

### 3. çŸ¥è¯†ç®¡ç†
- **æ–‡æ¡£ä¸Šä¼ **: æ”¯æŒå¤šç§æ ¼å¼çš„æ–‡æ¡£ä¸Šä¼ 
- **å‘é‡åŒ–å­˜å‚¨**: è‡ªåŠ¨å°†æ–‡æ¡£è½¬æ¢ä¸ºå‘é‡å¹¶å­˜å‚¨
- **å…ƒæ•°æ®ç®¡ç†**: æ”¯æŒæ–‡æ¡£çš„å…ƒæ•°æ®ç®¡ç†å’Œæ£€ç´¢


### åç«¯å¼€å‘

```bash
cd knowledge-server

# å¼€å‘æ¨¡å¼ï¼ˆéœ€è¦å…ˆç¼–è¯‘ï¼‰
npm run build && npm run start

# æ’å…¥æµ‹è¯•æ•°æ®
npm run mock
```

### å‰ç«¯å¼€å‘

```bash
cd knowledeg-web

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä»£ç æ£€æŸ¥
npm run lint

# ä»£ç æ ¼å¼åŒ–
npm run format
```